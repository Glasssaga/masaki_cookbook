user_account "masaki" do
  commenct "Masaki Matsushita"
  ssh_keys [
    "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBxoB0NZccmTVF4p3xhYk9daLB1bZdap84b0zrvLZE3ee4YrXNvBaDzYCVBqrRnrqvDyo7EsvTLZHWqxPZa6TibrRzIQu/3b6vjANpAdOvDuD1Zw32edKH+8VLtHCAufAZ6A4vUMlmKVFqT+FifD3GSXJDx30+o/g3Ok7lZsNCENwGVuNUi4eEvQ5vTHOusA7OG7v35fBk8nGoHhWo44OdWCeEzo03+XvJHUFvSq13naJWzZmon+7pTzHYlHVBZKKlOARviZpngopvWAm5jOl0XvEeVEwP+ooMfjHmusymoP4NlwPvWsQyBN/tYaqwxoQNOAtPjKyQJ32jIMTBtpnJHgVeF9Zj+vMzFmK5uZo3ZpQq2YQWtjGJ4crJBxYloaJCMToIAjKZqAL5uCh6oSL0V3+a7bhTYUoyST5MqqleoD5x5uZWrDE+QI5G/79n1bYoz/e3Ze/Ggyqr3inqIRCMpqmpDXkI1LZRXtoZg+qX7SWZUDHEdDUvx4Q2MjJsR2bp5ZbXKbjeaTawEBQ3p3wckr60FJj5pgf5T42CyzxojX4OksxY8s9XwehVPfb3pl5UqiKelpenfP6sBo1iLvi6GOo7clYyftv3SWrr8uCaNerx4Tjg96yfh3WbZGgbYHCDXrHECBfo1XbEDa9ldvZzjxxHWUQG3UGY1pGBoEPixw==",
    "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDPD7t77ysrFGIFtg7ZHWQahWi2qHfjSvFrBuI+m3FX6NduxjzWDY4d3hoHfYye6N59g8au2rH42hJPfrjjtmVV5e/55eJfYC/km3skIOlFdcsIUtR19zg0Q79UE61E5kzGjgOENDeGXDcOcDnYb73OZwT72nCcNh1nnb5Iz9OSp+VFW+FZYq2pG++MX03hTmfNWl9X/BF7U2DaZD0M6fJzdcvSjPeDjAUdc8xxgXfxDvW+EcN+JpYz2fiINWvPOelTi4HSpjr63y/1zBaRDn2BQX/AP0QsWXI7HjDJNnGjMF0WhDoAO2aWddS9iIbWBBaONZZQn6nnsITu68LMPwZKPVr+tZuO2by8dAEeGpYnF0wjCoQAQUpA8BSjnczQjuVxI2KC24i5rpbsk6kYqNa1aJ7vow21EvVp5suC8R1MAR/2BvEFBIodDsrZigS7UmOA9r6u4wmnE93OOohkCHh7knMrau0el023J7MEfjpvu/dofQ4iuQ07hSEmBd9+zAXAHGUd40IBhm85jatKlopqXFd4B9JdvlW6eo7o3JpRVyZpjTVWFFMFyFJ5WXfqeZaZmn4YqlDTYacYZoLt/Y00Lr17n9Pzwxz+jubEwX2rm6lKS0rGeobaZPcFUt1vbh5CD0N4+gXrk5TyI34xAsDJjiD3USXtllU4Gkpf+Z7+/w==",
    "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC1t3fX3APgC+4JfJ/Tz5EB/wUgwQmeDRSdjQ767fStKmzyf5RPjMI9jJcmAvn92L586TUu5qtaYRPKGPlH9SctZbH3lVTOCbf62bomCF0IHNlYljz+HbC01j7l4VSyN21gtB/JvTbec6RGTFsIuMPYUv5IT2m1jRVNIP772ZbyzPziusZzscHH5+1112lLOVCxND+MHa4v3CO2IxaEeYnQeYBqZ5aLbwL9/TApt72R5Xg+nLYW65UUhuZQvueTm+4a3gtZ1Gmr5yaWbq7OLH6FeH0LTi59YJGhii2LiBWKHMR5lKgyGC7+fBZAu8TRqLiS/ZRiasJd9XGmukY/8KHGgw94qSEp3xxYrzkI6bRB6bu7PogrrrMLWXggsXEuVXJhbQZplnG8DyjwFBwNf23T9uWxljGpq3ZWP5kSzgO2e8GZNw7xvdPhV2aWR4rpuIEi9gsKNQkPRRIbZVjdF8x0dApa8lBCbDwyDUN7pl5DQZvOjvL1gHwmivCOfLLOvfBNAeaxGkEvd/5ZaTDw297j4MlaBCdCQLU9yLgPkpDIcTTOBPLbsqon28lyFCJAt4BDWNTfGBy1xSK9eMIeXCSKZcD9KuqANMytZHqH4EROrJsItBmgkQ+y+DXUgep4HK/YeLhR2gkHtc/i69SnSA7anngDTedvaCu3HRcImA5bYQ==",
    "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDgo8EKrKSnO0UyKgODHBoMSTPOfb8bTzb1jWw/ZPCF46cpY2GBSkAs1lNwiZWyv/kKqIbRScFHGv22Q0hczK+c9jiaMiW7gahRJDrG7Wql3nUhRRwrygmImmgiqz1i3Bc0y1/u2aoKqvXRhVB9lVWcxtEj671jqPzgJI9Jwx6Oiy3kuapr80UNHMC1anjJdrsR1FsU2OteNwbBACTb0shKRxMFHkL1ojoGRbMLu5htu4XR0lZ/SEbbDa5PEtRAa1D0SpANOPWZBmewMWgZpvtoLF41W5JtxtbMIOj3Z9DDQhUhWWgdIfVPHxVm0l+lAa2jYT0qX02vjoun4p+JcfJMWShvW73/nUBK8+wdq1KP8VnmIdJk2SC72vv6drw06fJjbF4tC2A9R7Xojr4HzlIMAT9mHlYGpA4RvkQWdb5jHQWh0pa2XsY/obIisQgSfcf+dFUx/cY+T+kl/HVT05Ym0apIEtHs9yIohDcyouTYYbSKxLsFYBvLd8GfYUnL+4sHBW+D4y9Xbb+Ca+sZuXpJ8ucx4PmOeOs912xVxqJk1gC6ZRTDxY3jx3GZCbLWhQ68sQcnfrmaNuRfOePsIuBB+OGrIhMVpyLmWB4Pk9TZn2oG9KXXg5951pIWkbEJ/Sgp7+qJg4tWkyizkM5c81rdVXHa3YSojACuSTTbOEd7Nw==",
    "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDmuUehHsRuTexviOmO9loqqWUhvYo+45NHJtF6nylufc2xIO/y/1Hw0/vdkiINecEPK/YmyHVy1cVYmAXI2i6fDtSZ9nWtvTD0CLpgjK8BJrHC12Iuwh3m5Fw+Ir3mS9p4Tobx/C+ADxHbwbLX0W2P/hGzMc4zHI/Yfho+hcB/fDu3uKB/4WBthGU/WLSA0X+Cmu90eMKpbIhxDPUU+cKhIAoG1EB3tET3l32PDTWE2ixqHHrLzICEPDSWwdOQRa6Mqzymx3BlmXk8QQtKFS58OoabTZbjsfDx39k1Mhgyz7jpwh5lKb0HvPaDMthBT9KApX7K2UCQ3mh71wSkjK8n3P2jerGG/uHdkmtriXBLya1TTkBhE3SIxF/RiZ9HrZy43dmTOlmkjg9FKM3+fpemCr+RmdBa76AFPxNX9ip9AhZO15IhwOHI0lL2RjIzW9INHtS+a/4mghcEA1mLpDpji3yIWUTbi2wD6BHrJYbrjazWsX1e1eO9I/G4zHXuHSDuoBsQOXdSOreZq2hbvp3VbhWyI+oxfHTqYmpxdkI/L7p5blOqqoH3lk3OHFLZFnwJoUkdkGv/sVu668wT1a51sXGb4N6OISH+qCrjDELsxTJrZIZ2CBN/0aeuQIhH7yqKMAdQwKVeAUlL0rHmCkRh7z7OKbD9FwBsHfnI4Ml56Q==",
    "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDALYK4ZW4JulJsqGvrHY2FYVnmLb4EXGuMl6+MoQJodjNNQRGEI2n8VqDdNmnLMtxmxG1XsDSPwLcMi6QwFmyyBvPzGY/3Qznv4x7b9JTkGvNwNIhRCCYHNmZOmJsnhGrmWnZvbGrTQEU6bKWPSq32xwjgeblW8OtI+tYCfD1VUiztCCy0UE1teb+GGjmaXV264uGYA/Rjt/Oj7eAowBPV0mg8x/A2Zc5IF9eYBcrE6EXmsobvaKnMFH0MAAEnFdQaYWWUZGxn9ToO3p18wksYvwcKzv41ZonkmdHvDdq7+3i24qLEzG5hgGaxfv/M3YH+Mf988mKjcaihhqU/y0ZGXbRiPMmX6UNNTXPFkYSQNn+e7Cr4+gv2GZnCA5JyHQWf0r5C4eCW4ru5XpP1szg/LWnYRr5EIoJB3P8TpbiXdt6uaUgnY91FMeXjJrnDdfiWsG40gOLfsegwy59e5/pRi9kZaSVinwC4SGftONW5vvaPIL7TQmVkJJeCD4OUjodh+yK5aS2r8c5R6Un+NHKmYWlBgjXtLLxzhUflgJppPdQU8AAfFDPIdIHmu4wnlHlkNiCeflHLuO1nLFG5ZUm0K8YvYswtYYmVgHNHYWAq6Y4KnSgPLjkUPypzJ93YRF8KEcsN0P2T694VBhACZVBvoiRCULWHsMglxLPpRiJUaw=="
  ]
end

if platform_family?("debian")
  file "/etc/apt/sources.list" do
    _file = Chef::Util::FileEdit.new(path)
    _file.search_file_replace("us.archive.ubuntu.com", "ftp.jaist.ac.jp")
    _file.search_file_replace("jp.archive.ubuntu.com", "ftp.jaist.ac.jp")
    _file.search_file_replace("security.ubuntu.com", "ftp.jaist.ac.jp")
    content _file.send(:editor).lines.join
    notifies :run, 'execute[apt-get update]', :immediately
  end
end

execute "apt-get update" do
  action :nothing
end

sudo "sudo" do
  group "sudo"
  nopasswd true
end

=begin
# update
case node[:platform_family]
when "rhel"
  execute "yum update -y"
when "debian"
  execute "apt-get update && apt-get dist-upgrade -y"
when "mac_os_x"
  execute "brew update"
end
=end
